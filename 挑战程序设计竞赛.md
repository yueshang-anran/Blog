# 读书笔记：挑战程序设计竞赛（第二版）

## 0.前言

学校里有个老师天天上课阴阳怪气，还老讲他前女友的故事，还不让玩手机。无奈找了一本书看看，就是这本了。

## 1.准备篇

### POJ1852

我最早在大一的时候看到了这道题目，我还去问了当时的C语言老师怎么写，当然了，没有回复我答案。回到题目上来，这道题目想通了就很简单咯。

![image-20210519193153498](挑战程序设计竞赛.assets/image-20210519193153498-1621423916448.png)

掉头 和 灵魂穿越般的过去是一样，那么这两种状态就一样嘛，显然后者状态好计算多了。感叹一句，这题真的经典。

### 优化抽签问题

原本是（$n^4$）   通过二分搜索优化最内层循环（d = m - a - b - c）   变成 （$n^3logn$）

​    再优化内侧的两个循环，这两个循环在检查是否有（c + d = m - a - b）

​	所以先枚举c + d 的（$n^2$）个结果，再排序，再二分搜索。注意啊，排序的时间复杂度原本是：$n^2log(n^2)=n^2*(2logn)=2n^2logn$，这个两倍完全太小了可以省略

​	最终就优化成：$n^2logn$

这不比背面经有趣？

## 2.初级篇

### 2.1穷搜

P35使用数组来存储四个方向，这种表示挺有趣的，其他的没啥好说的。

![image-20210519200439858](挑战程序设计竞赛.assets/image-20210519200439858.png)

### 2.2贪心

#### 2.2.1

P40，区间问题

- 选最先结束的工作，这个思路太棒了

#### POJ3617

P44的思路没有说清楚，是有点问题的，他说如果相同，取哪个都可以

![image-20210520085540061](挑战程序设计竞赛.assets/image-20210520085540061.png)

请看他给的样例 ACDBCB，当两个C进行选择时，是要选择后一个C的，因为后一个C的前一个字母是B。所以，相同时，要继续移进比较，选出小的那个（如果没有就随意了），再回来选择。

有趣的是：他给的代码确实是正确的思路，应验了那句话：Talk is cheap. Show me the code.

仔细看，他代码中的唯一一个for循环，里面并没有写相等的情况，这个for很巧妙哦

#### POJ3069

思路很简单，不过一般人可能写不出来他这么清爽的代码

#### POJ3253

我最开始想的是，先从大到小的顺序，再依次每次割除最大的那个，如下图所示：

![image-20210520092224606](挑战程序设计竞赛.assets/image-20210520092224606.png)

题目只有三块板子，但凡多一点，这个思路就显示出问题了。

真没有想到啊，思路居然是二叉树。模板长度 * 节点深度 = 所求值 。amazing啊！

- 来理清思路
  - 找到最短板和次最短板，合成一个新板，将这个新板的长度加入ans中，将最短板和次最短板删掉。
  - 重复上述操作直到只有一块板子。
- 来看看他的代码
  - 前面代码都正常，注意看这几行

```c
if (mii1 == N - 1) swap(mii1, mii2);
L[mii1] = t;
L[mii2] = L[N - 1];
```

按照之前的思路，我们需要将合并的新板加进来，去掉两个板子。为了好写，我们使用了N--来控制板子的数量，这造成了一个问题，N - 1号板子会莫名消失，所以需要加进来，这里又出现了一个问题，如果N - 1号板子就是 最短板或次最短板 呢？那不是不用加进来了嘛，那咋办吗，写几个if进行嵌套判断？他给了个方法：合并后的板子替换掉mii1号板子，N - 1号板子替换掉mii2号板子（此时依旧没有解决  **N - 1号板子就是 最短板或次最短板**  的情况），再次之前进行一次判断，如果  N - 1号板子就是最短板，那就交换 mii1与mii2的值。完了？就这？注意理解哦，你要保证第二行L[mii1] = t 赋值成功，但是不需要保证第三行L[mii2] = L[N - 1]赋值成功，如果mii2号板子就是N-1号板子，那不是很好嘛，正好舍弃掉。但是啊，N-1号板子也可能是mii1号板子呀，所以就需要交换mii1与mii2的值咯。

- 精准而优雅

